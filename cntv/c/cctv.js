function $($){return document.getElementById($)}function initCtlPlane(){if(P2P_Installed<0)return;var _=document.getElementById("_VDrg"),C=document.getElementById("voxSlider");if(_!=null){var A=false,D,B,$=parseInt(C.style.width)-parseInt(_.style.width);window.document.ondragstart=function(){return false};window.document.onmousemove=function(){if(A){B=event.clientX;var _=A.style.pixelLeft+B-D;if(_<=$&&_>=0){A.style.pixelLeft=_;unMute();ChangeVolume(A.style.pixelLeft,$);D=B}}};window.document.onmouseup=function(){if(A)A=false};window.document.onmousedown=function(){hiddenTip();if(event.srcElement.id=="_VDrg"){A=event.srcElement;D=event.clientX}};if(pps)_.style.pixelLeft=pps.iSoundValue/160*$}}function displayTip($){var _=document.getElementById("tip");if(_){_.style.display="block";_.style.left=event.clientX+10;_.style.top=event.clientY-10;_.innerHTML=$}}function hiddenTip(){var $=document.getElementById("tip");if($)$.style.display="none"}function img_mouseover(A){var _=$("img"+A);if(_)_.src=""+A+"_HOVER.GIF"}function img_mouseout(A){var _=$("img"+A);if(_)_.src=""+A+"_NORMAL.GIF"}function createP2P(){var _="<object id=\"pps\" width=\"100%\" height=\"100%\" classid=\"clsid:C728DAB8-FDF5-4cd7-89DD-879D25794C77\" standby=\"KooPlayer...\" VIEWASTEXT >";_+="<param name=\"_Version\" value=\"65537\">";_+="<param name=\"_ExtentX\" value=\"23627\">";_+="<param name=\"_ExtentY\" value=\"8149\">";_+="<param name=\"_StockProps\" value=\"0\">";_+="<param name=\"bDispControlBar\" value=\"0\">";_+="<param name=\"bDispList\" value=\"0\">";_+="<param name=\"bAutoHideControl\" value=\"0\">";_+="<param name=\"iDispGroup\" value=\"0\">";_+="</object>";$("tdPPS").innerHTML=_}function getQuery(A){var _=new RegExp("(^|&)"+A+"=([^&]*)(&|$)"),$=window.location.search.substr(1).match(_);if($!=null)return unescape($[2]);return null}function killErrors(){return true}if(typeof P2P_Installed=="undefined")var P2P_Installed=0;function hasP2PInstalled(){if(P2P_Installed==0){var _=$("pps");if(_)P2P_Installed=typeof(_.bDispControlBar)!="undefined"?1:-1}return P2P_Installed>0}function alertInstall(){if(hasP2PInstalled()==false)document.body.innerHTML="<div id=\"noPlayer\" style=\"color:#fff\"><br><br>\u5F88\u62B1\u6B49\uFF0C\u8BE5\u8282\u76EE\u65E0\u6CD5\u64AD\u653E\uFF01\u56E0\u4E3A\u60A8\u7684\u7535\u8111\u4E2D\u7F3A\u5C11\u64AD\u653E\u8BE5\u8282\u76EE\u7684CNTV\u63D2\u4EF6\uFF0C<br></div>"}function play(_){if(P2P_Installed<0)return;pps.Play(_);$("dStatus").innerHTML="\u6b63\u5728\u8fde\u63a5..."}function ChangeVolume($,_){if(pps){pps.SetVolume(Math.round(($/_)*100));displayTip(Math.round(($/_)*100))}}function imgDoPlay_onclick(){if(P2P_Installed<0)return;imgDoPlay=document.getElementById("playA");imgDoPause=document.getElementById("pauseA");if(imgDoPause.style.display=="block"){if(pps)pps.Stop();if(imgDoPause)imgDoPause.style.display="none";if(imgDoPlay)imgDoPlay.style.display="block";$("dStatus").innerHTML="\u5df2\u505c\u6b62"}else{play(channelId);if(imgDoPause)imgDoPause.style.display="block";if(imgDoPlay)imgDoPlay.style.display="none"}}function imgDoMute_onclick(){$("voxA").style.display="none";$("voxB").style.display="block";pps.SetMute(1)}function unMute(){if(P2P_Installed<0)return;if(pps)pps.SetMute(0);imgDoMute=document.getElementById("voxA");imgDoNoMute=document.getElementById("voxB");if(imgDoMute)imgDoMute.style.display="block";if(imgDoNoMute)imgDoNoMute.style.display="none"}function imgDoFullScreen_onclick(){if(P2P_Installed<0)return;pps.FullScreen(1)}function showLoading(){$("trADV").style.display="block";$("trWMP").style.height="25";$("trPPS").style.height="1";$("trADV").style.width="100%";$("trADV").style.height="100%"}function hideLoading(){$("trADV").style.height="0px";$("trADV").style.display="none";$("trPPS").style.height="100%";$("pps").height="100%";$("pps").width="100%"}function openGuide($,_){window.open(_+$,"webname","height=550,width=450,resizable=yes,scrollbars=yes,status=yes,toolbar=yes,menubar=yes,location=yes,top=0,left=0,location=no")}function getBufPercent(){if(bbufing)if(pps){$("dStatus").innerHTML="\u7f13\u51b2:\u5b8c\u6210"+pps.iBufPercent+"%";timer1=setTimeout("getBufPercent()",1000)}}var channelId=getQuery("id");gid=getQuery("gid");createP2P();alertInstall();play(channelId);initCtlPlane()